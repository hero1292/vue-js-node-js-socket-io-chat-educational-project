webpackJsonp([1],{0:function(e,t){},"7zck":function(e,t){},DRqH:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-app",[t("v-content",[t("router-view")],1)],1)},staticRenderFns:[]},r=s("VU/8")({name:"App"},a,!1,null,null,null).exports,o=s("/ocq"),i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[s("v-card",{staticClass:"elevation-12"},[s("v-toolbar",{attrs:{dark:"",color:"#45688e"}},[s("v-toolbar-title",[e._v("Enter Chat")])],1),e._v(" "),s("v-card-text",[s("v-form",{ref:"form",attrs:{validation:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.onSubmit(t):null}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[s("v-text-field",{attrs:{"prepend-icon":"person",name:"name",label:"Name",type:"text",rules:e.rules,color:"#45688e"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),s("v-text-field",{attrs:{"prepend-icon":"chat",name:"room",label:"Room",type:"text",rules:e.rules,color:"#45688e"},model:{value:e.room,callback:function(t){e.room=t},expression:"room"}})],1)],1),e._v(" "),s("v-card-actions",[s("v-spacer"),e._v(" "),s("button",{staticClass:"button",attrs:{disabled:!e.valid},on:{click:e.onSubmit}},[s("svg",{staticClass:"button__svg"},[s("rect",{staticClass:"button__rect"})]),e._v("\n            Enter\n          ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var c=s("VU/8")({data:function(){return{name:"",room:"",valid:!1,rules:[function(e){return!!e||"Field is required"}]}},methods:{onSubmit:function(){this.$refs.form.validate()&&this.$router.push({path:"chat",query:{name:this.name,room:this.room}})}}},i,!1,function(e){s("DRqH")},"data-v-31037559",null).exports,u=s("Gu7T"),l=s.n(u),m=s("DmT9"),d=s.n(m),v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message",class:{owner:e.message.id===e.user.id}},[s("div",{staticClass:"message-content elevation-1"},[s("b",[e._v(e._s(e.message.name)+":")]),e._v(" "+e._s(e.message.text)+"\n  ")])])},staticRenderFns:[]};function f(e){setTimeout(function(){e.scrollTop=e.scrollHeight})}var p={data:function(){return{message:"",messages:[],user:{name:"",room:""},users:[],socket:d()()}},methods:{sendMessage:function(){var e=this,t={text:this.message,name:this.user.name,id:this.user.id};this.socket.emit("message:create",t,function(t){t?console.error(t):e.message=""})},initializeConnection:function(){var e=this;this.socket.on("users:update",function(t){e.users=[].concat(l()(t))}),this.socket.on("message:new",function(t){e.messages.push(t),f(e.$refs.messages)}),f(this.$refs.messages)}},created:function(){var e=this.$route.query.name,t=this.$route.query.room;this.user={name:e,room:t}},mounted:function(){var e=this;this.socket.emit("join",this.user,function(t){"string"==typeof t?console.error(t):(e.user.id=t.userId,e.initializeConnection())})},components:{chatMessage:s("VU/8")({props:["message","user"]},v,!1,function(e){s("zPEc")},"data-v-720346e2",null).exports}},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"chat"},[s("div",{staticClass:"chat-users"},e._l(e.users,function(t,n){return s("v-list",{key:n,staticClass:"pl-3",class:{active:t.id===e.user.id}},[e._v(e._s(t.name))])})),e._v(" "),s("div",{ref:"messages",staticClass:"chat-messages"},e._l(e.messages,function(t,n){return s("chat-message",{key:n,attrs:{message:t,user:e.user}})}))]),e._v(" "),s("v-flex",{attrs:{xs12:""}},[s("v-card",{staticClass:"transparent elevation-0"},[s("v-card-text",[s("v-textarea",{attrs:{"prepend-icon":"chat",label:"Type your message...",type:"text",outline:"",autofocus:"","background-color":"#45688e",color:"#45688e",height:"80px"},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.sendMessage(t):null}},model:{value:e.message,callback:function(t){e.message="string"==typeof t?t.trim():t},expression:"message"}}),e._v(" "),s("v-card-actions",[s("v-spacer"),e._v(" "),s("button",{staticClass:"button",attrs:{disabled:0===e.message.length},on:{click:e.sendMessage}},[s("svg",{staticClass:"button__svg"},[s("rect",{staticClass:"button__rect"})]),e._v("\n            Send\n          ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var g=s("VU/8")(p,h,!1,function(e){s("pIxI")},"data-v-2fb2f809",null).exports;n.default.use(o.a);var _=new o.a({mode:"history",routes:[{path:"/",name:"Home",component:c},{path:"/chat",name:"Chat",component:g}]}),b=s("3EgV"),k=s.n(b);s("7zck");n.default.use(k.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:_,components:{App:r},template:"<App/>"})},pIxI:function(e,t){},zPEc:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.bd456534c29cfacf9ede.js.map